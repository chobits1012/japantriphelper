# 🇯🇵 Japan Trip Helper 使用說明書

歡迎使用 **Japan Trip Helper**！這是一個專為日本旅遊設計的個人化行程管理助手，協助您輕鬆規劃、管理並享受您的日本之旅。

---

## 目錄

1.  [專案簡介](#專案簡介)
2.  [快速上手](#快速上手)
3.  [功能詳細介紹](#功能詳細介紹)
    *   [旅程管理 (首頁)](#旅程管理-首頁)
    *   [行程規劃 (每日詳情)](#行程規劃-每日詳情)
    *   [AI 旅遊規劃師](#ai-旅遊規劃師)
    *   [多方案規劃 (A/B/C)](#多方案規劃-abc)
    *   [交通周遊券管理](#交通周遊券管理)
    *   [旅遊工具箱](#旅遊工具箱)
4.  [實用小撇步](#實用小撇步)
5.  [使用情境舉例](#使用情境舉例)

---

## 專案簡介

Japan Trip Helper 整合了行程表、天氣預報、記帳、匯率換算與行李清單等多種功能。獨特的「和風設計」與直覺的操作介面，讓安排行程本身也成為一種享受。

**主要特色：**
*   **離線優先 (PWA)**：支援加入主畫面，無網路時也能查看行程。
*   **視覺化行程**：依據季節變換背景，整合即時天氣資訊。
*   **工具箱整合**：內建記帳、匯率計算機與檢查清單，無需切換多個 App。

---

## 快速上手

### 1. 建立您的第一個旅程
開啟 App 後，您會看到首頁的旅程列表。
1.  點擊左下角的 **「+ 建立新旅程」** 按鈕。
2.  輸入旅程名稱 (例如：`2024 東京賞櫻`)。
3.  選擇出發日期與天數。
4.  選擇季節 (影響背景主題色)。
5.  點擊確認，旅程即建立完成！

### 2. 使用範本
若不想從頭開始，可使用 **「✨ 建立範本」** 功能，系統會自動複製一份預設的「關西冬之旅」行程供您參考修改。

---

## 功能詳細介紹

### 旅程管理 (首頁)
在首頁，您可以瀏覽所有已建立的旅程。
*   **進入旅程**：點擊任一旅程卡片即可進入詳細行程表。
*   **刪除旅程**：進入旅程後，點擊右上角的設定或刪除按鈕 (需再次確認)。
*   **季節標籤**：卡片左上角顯示季節，背景與配色會隨之改變。

### 行程規劃 (每日詳情)
點擊旅程進入後，您會看到每日的時間軸。點擊任一天進入 **「當日詳情」** 模式。

#### 編輯模式
在當日詳情頁面，點擊右上角的 **「✏️ (鉛筆圖示)」** 進入編輯模式。
*   **修改標題/地點**：直接點擊文字框修改。地點輸入正確城市名稱 (如：京都) 可自動抓取天氣。
*   **新增行程**：點擊列表上方的 **「+ 新增」** 或下方的快速按鈕 (早餐、景點等)。
*   **編輯單項行程**：
    *   **時間**：設定 24 小時制時間。
    *   **類別**：選擇 景點/美食/購物/交通/住宿 等，會顯示不同圖示顏色。
    *   **地圖關鍵字**：輸入地點名稱 (如：清水寺)，在預覽模式可直接開啟 Google Maps。
    *   **備註**：記錄交通方式或預約代碼。
*   **排序**：在編輯模式下，行程會自動依照時間排序。

#### 查看模式
*   **天氣資訊**：點擊標題旁的天氣圖示，可查看未來一週天氣預報。
*   **路線規劃**：若當天有輸入 2 個以上「地圖關鍵字」，會出現 **「🗺️ 查看路線」** 按鈕，一鍵開啟 Google Maps 路線規劃。
*   **乘換案內**：點擊 **「🔍 乘換案內」** 可快速開啟 Jorudan 查詢電車時刻。

### AI 旅遊規劃師
不知道行程怎麼排？讓 AI 來幫您！
1.  **開啟功能**：在旅程首頁下方工具列，點擊 **「✨ AI 排程」** 按鈕。
2.  **設定 API Key**：
    *   首次使用需輸入 Google Gemini API Key (可點擊「免費申請 API Key」按鈕取得)。
    *   勾選「儲存 API Key 到瀏覽器」，下次開啟會自動填入，不用每次輸入。
3.  **選擇模式**：
    *   **整趟旅程**：適合從零開始。告訴 AI 您想去的城市、喜好 (如：古蹟、動漫、美食)，AI 會幫您規劃每天的行程大綱。
    *   **單日修改**：若某天行程不滿意，可切換選單至該日期 (例如：Day 3)，告訴 AI 「這天我想改去迪士尼」，系統只會重新生成這一天的行程。
4.  **目標方案**（單日修改專用）：選擇要將 AI 生成的內容存入哪個方案 (A/B/C)，預設為 B 以避免覆蓋現有行程。
5.  **輸入需求**：輸入越詳細，結果越精準。例如：「我要去大阪三天兩夜，第一天要吃燒肉，第二天去環球影城，第三天去黑門市場。」

### 多方案規劃 (A/B/C)
規劃行程時常常有多個選項？現在可以輕鬆比較不同方案！

#### 使用方式
1.  進入任一天的「當日詳情」頁面。
2.  在標題上方 (瀏覽模式) 或標題右側 (編輯模式) 會看到 **「A B C 方案」** 按鈕。
3.  點擊不同字母即可切換方案，每個方案的行程內容獨立儲存。
4.  有內容的方案會顯示一個小藍點提示。
5.  在編輯模式下，點擊 **「🗑️」** 可清空當前方案。

#### 搭配 AI 使用
想用 AI 生成備案？
1.  開啟「AI 排程」，選擇某一天。
2.  在「存入哪個方案？」選擇 B 或 C。
3.  AI 會將新行程存入該方案，原本的 A 方案內容不受影響。
4.  比較後，選擇滿意的方案繼續使用即可！

### 交通周遊券管理
在日本旅遊，善用 JR Pass 或地鐵券能省下不少錢。
1.  在「當日詳情」進入編輯模式。
2.  看到上方的紅色區塊 **「交通周遊券 (批次管理)」**。
3.  **選擇票券**：選擇地區 (如：關西) 與票券名稱 (如：Kansai Thru Pass)，或選擇「自行新增」。
4.  **設定範圍**：選擇要連續使用幾天。
5.  **套用**：點擊「立即套用」，系統會自動將該票券標記在接下來幾天的行程中。

### 旅遊工具箱
點擊旅程頁面右下角的 **「🧰 (工具箱圖示)」**，即可打開萬用工具箱。

#### 1. 記帳 (Expense)
*   **設定預算**：點擊上方的總預算金額進行修改。
*   **新增收支**：輸入項目、金額 (日幣) 與類別，點擊「+」。
*   **統計圖表**：自動計算已支出、剩餘金額，並以長條圖顯示消費比例。

#### 2. 匯率 (Currency)
*   **即時匯率**：開啟時自動抓取最新匯率 (需連網)。
*   **雙向換算**：輸入日幣自動算台幣，輸入台幣自動算日幣。

#### 3. 清單 (Checklist)
*   **分類管理**：預設有證件、衣物、電子產品等分類。
*   **新增項目**：在分類下輸入物品名稱並新增。
*   **進度條**：顯示完成進度，出發前確認是否都打勾了！

#### 4. 備份 (Backup)
*   **匯出**：選擇 **「複製代碼」** (文字格式) 或 **「下載檔案」** (.json 檔) 將行程資料完整備份。
*   **匯入**：貼上代碼或上傳檔案，將行程資料還原 (適合換手機或分享給朋友)。

---

## 實用小撇步

> [!TIP]
> **加入主畫面 (PWA)**
> 在 iPhone Safari 瀏覽器中，點擊即分享按鈕，選擇「加入主畫面」。這樣即使在飛機上或沒有網路的地方，也能順暢開啟 App 查看行程！

> [!NOTE]
> **天氣預報**
> 天氣功能使用 Open-Meteo 免費 API，需要輸入正確的「英文」或「中文」城市名稱 (如：Osaka 或 大阪) 才能準確抓取。

---

## 使用情境舉例

### 情境 A：規劃京都一日遊
1.  在 11/24 (週日) 的行程中，進入編輯模式。
2.  地點輸入「京都」，確認天氣圖示出現。
3.  新增 09:00 行程「清水寺」，類別選「景點」，地圖關鍵字輸入「清水寺」。
4.  新增 12:00 行程「湯豆腐午餐」，類別選「美食」。
5.  新增 14:00 行程「伏見稻荷大社」，地圖關鍵字輸入「伏見稻荷」。
6.  儲存後，回到預覽模式，點擊 **「🗺️ 查看路線」**，即可看到從清水寺移動到伏見稻荷的交通路線！

### 情境 B：旅行中記帳
1.  剛買了一張西瓜卡 (Suica) 儲值 5000 日圓。
2.  打開右下角工具箱，切換到「記帳」。
3.  輸入「Suica 儲值」、金額「5000」、類別選「交通」。
4.  看到預算條減少了一點，隨時掌握荷包狀況！

---

*祝您旅途愉快！ Have a nice trip! ✈️*
